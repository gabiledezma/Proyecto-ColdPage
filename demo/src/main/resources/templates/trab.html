<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="" />
        <link rel="stylesheet" href="../../css/stylefb.css">
        <link rel="stylesheet" href="../../css/stylefb2.css">
        <link rel="stylesheet" href="../../css/toolstyle.css">

        <link rel="shortcut icon" href = "img/browser_seeker_icon_220709.png" >
        <link rel="shortcut icon" href = "../img/favicon.jpg" >
        <title>ColdPage</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    </head>
    <body>
        <section sec:authorize="isAuthenticated()">
            <header>
                <nav class="navbar navbar-expand-lg navbar-light navegador">
                    <div class="container-fluid">
                        <a class="navbar-brand" th:href="@{/}">ColdPage</a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                                <li class="nav-item">
                                    <a class="nav-link active" aria-current="page" th:href="@{/}">Inicio</a> <!-- cambiar ruta a futuro feed-->
                                </li>  
                                <li class="nav-item" sec:authorize="isAuthenticated()">
                                    <a class="nav-link" th:href="@{/usuario/perfil}" th:text="${usuario.nombre}"></a>
                                </li>
                                <li class="nav-item" sec:authorize="hasRole('ADMIN')">
                                    <a class="nav-link" th:href="@{/admin/}">Lista de Usuarios</a>
                                </li>
                                <li class="nav-item" sec:authorize="!hasAnyRole('ADMIN','CLIENTE','PROFESIONAL')">
                                    <a class="nav-link" th:href="@{/usuario/registro}">Registrarse</a>
                                </li>
                                <li class="nav-item" sec:authorize="!isAuthenticated()">
                                    <a class="nav-link" th:href="@{/login}">Iniciar Sesión</a>
                                </li>
                                <li class="nav-item" sec:authorize="isAuthenticated()">
                                    <a class="nav-link" th:href="@{/logout}">Cerrar Sesión</a>
                                </li>
                                <li class="nav-item" sec:authorize="isAuthenticated()">
                                    <a class="nav-link" href="#" id="btn">Publicaciones</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </header>
            <div th:if="${error}!=null" class="card text-white bg-danger mb-3" >
                <div class="card-body">
                    <h5 class="card-title">Error al Iniciar Sesión</h5>
                    <p class="card-text" th:text="${error}"></p>
                </div>
            </div>
            <div th:if="${logout}!=null" class="card text-white bg-success mb-3" >
                <div class="card-body">
                    <p class="card-text" th:text="${logout}"></p>
                </div>
            </div>
            <div class="form-publicacion" style="display: block;" id="ct-publicacion">
                <form class="">
                    <div class="col-12">
                        <label for="inputAddress2" class="form-label"></label>
                        <input type="text" class="form-control" placeholder="¿Que desea publicar?">
                    </div>
                    <br>
                    <button type="submit">Publicar</button>
                </form>
            </div>

            <div class="form-trabajo" style="display: none;" id="ct-trabajo">
                <form class="" th:action="@{/trabajo/guardar}" method="POST" >
                    <input hidden th:value="${usuario.id}" name="id">
                    <div class="col-12">
                        
                        <label for="inputAddress2" class="form-label"></label>
                        <input type="text" class="form-control"  placeholder="Titulo del trabajo que ofrecera">
                    </div>
                    <div class="col-12">
                        <label for="inputAddress2" class="form-label"></label>
                        <input type="text" class="form-control input-description" placeholder="Descripcion del trabajo">
                    </div>
                    <br>
                    <button type="submit">Publicar</button>
                </form>
            </div>
            <div id="ct-publicaciones" style="display: block;">
                <section id="principal">
                    <section id="publicaciones">
                        <article class="post">
                            <a href="#" class="enlace-post">
                                <h2 class="titulo-post">Nombre del Usuario</h2>
                            </a>
                            <!-- <img src="img/cafe.jpg" class="img-post" alt=""> -->

                            <p>
                                <strong>Fecha: </strong> <span class="datos-publicaciones"> colocar la fecha </span>
                                &nbsp; &nbsp;
                            </p>
                            <p class="parrafo-post">Aca va la descripcion de la oferta de trabajo!Aca va la descripcion de la oferta de
                                trabajo!Aca va la descripcion de la oferta de trabajo!Aca va la descripcion de la oferta de trabajo!Aca va
                                la
                                descripcion de la oferta de trabajo!Aca va la descripcion de la oferta de trabajo!Aca va la descripcion de
                                la
                                oferta de trabajo! </p>
                            <span type="button" class="btn btn-primary num-comentarios" data-bs-toggle="modal"
                                  data-bs-target="#exampleModal">Contactar</span>
                            <!-- modal/ventana emergente -->
                            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Solicitar Trabajo </h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <form class="form parrafo-post"> <!-- agregar method post para metodo postularse para trabajo-->
                                                <input type="text" placeholder="Tiempo Estimado del Trabajo">
                                                <input type="text" placeholder="Costo del Trabajo">
                                                <button type="submit" class="btn btn-primary num-comentarios" data-bs-toggle="modal"
                                                        data-bs-target="#exampleModal">Aplicar</button>
                                            </form>
                                        </div>
                                        <div class="modal-footer" th:if="${usuario.perfil}!=true">
                                            <p class="modal-title parrafo-post" id="exampleModalLabel">Aumenta las probabilidades de que vean tu
                                                perfil
                                                Comparte tu perfil completo con el anunciante del empleo.</p>
                                            <form th:action="@{/usuario/cambiarPrivacidad}" method="POST" > 
                                                <input hidden th:value="${usuario.id}" name="id">
                                                <button type="submit" class="btn btn-success">Cambiar Privacidad</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <!-- fin modal/ventana emergente -->
                        </article>
                    </section>
            </div>

            <div id="ct-trabajos" style="display: none ;">
                <section id="principal">
                    <section id="publicaciones">
                        <article class="post">
                            <a href="#" class="enlace-post">
                                <h2 class="titulo-post">Titulo de la oferta</h2>
                            </a>
                            <!-- <img src="img/cafe.jpg" class="img-post" alt=""> -->

                            <p>
                                <strong>Por: </strong> <span class="datos-publicaciones"> Usuario/Profesional </span>
                                &nbsp; &nbsp;
                                <strong>Fecha: </strong> <span class="datos-publicaciones"> colocar la fecha </span>
                                &nbsp; &nbsp;
                                <strong> Calificacion: </strong> <span class="datos-publicaciones clasificacion">
                                    <!-- calificacion estrella -->
                                    <input id="radio1" type="radio" name="estrellas" value="5">
                                    <!--
                                    --><label for="radio1">★</label>
                                    <!--
                                    --><input id="radio2" type="radio" name="estrellas" value="4">
                                    <!--
                                    --><label for="radio2">★</label>
                                    <!--
                                    --><input id="radio3" type="radio" name="estrellas" value="3">
                                    <!--
                                    --><label for="radio3">★</label>
                                    <!--
                                    --><input id="radio4" type="radio" name="estrellas" value="2">
                                    <!--
                                    --><label for="radio4">★</label>
                                    <!--
                                    --><input id="radio5" type="radio" name="estrellas" value="1">
                                    <!--
                                    --><label for="radio5">★</label>
                                </span>
                            </p>
                            <p class="parrafo-post">Aca va la descripcion de la oferta de trabajo!Aca va la descripcion de la oferta de
                                trabajo!Aca va la descripcion de la oferta de trabajo!Aca va la descripcion de la oferta de trabajo!Aca va
                                la
                                descripcion de la oferta de trabajo!Aca va la descripcion de la oferta de trabajo!Aca va la descripcion de
                                la
                                oferta de trabajo! </p>
                            <span type="button" class="btn btn-primary num-comentarios" data-bs-toggle="modal"
                                  data-bs-target="#exampleModal">Contactar</span>
                            <!-- modal/ventana emergente -->
                            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Solicitar Trabajo </h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <form class="form parrafo-post"> <!-- agregar method post para metodo postularse para trabajo-->
                                                <input type="text" placeholder="Tiempo Estimado del Trabajo">
                                                <input type="text" placeholder="Costo del Trabajo">
                                                <button type="submit" class="btn btn-primary num-comentarios" data-bs-toggle="modal"
                                                        data-bs-target="#exampleModal">Aplicar</button>
                                            </form>
                                        </div>
                                        <div class="modal-footer" th:if="${usuario.perfil}!=true">
                                            <p class="modal-title parrafo-post" id="exampleModalLabel">Aumenta las probabilidades de que vean tu
                                                perfil
                                                Comparte tu perfil completo con el anunciante del empleo.</p>
                                            <form th:action="@{/usuario/cambiarPrivacidad}" method="POST" > 
                                                <input hidden th:value="${usuario.id}" name="id">
                                                <button type="submit" class="btn btn-success">Cambiar Privacidad</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <!-- fin modal/ventana emergente -->
                        </article>
                    </section>
                </section>
            </div>
        </section>
        <footer class="text-muted py-5"></footer>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script>
            document.getElementById('btn').onclick = function () {
                var element = document.getElementById('ct-trabajo');
                var element2 = document.getElementById('ct-publicacion');
                var element3 = document.getElementById('ct-trabajos');
                var element4 = document.getElementById('ct-publicaciones');
                if (element.style.display === 'none') {
                    element.style.display = 'block';
                    element3.style.display = 'block';
                    element2.style.display = 'none';
                    element4.style.display = 'none';
                    document.getElementById('btn').innerText = 'Publicacion';
                } else {
                    element.style.display = 'none';
                    element3.style.display = 'none';
                    element2.style.display = 'block';
                    element4.style.display = 'block';
                    document.getElementById('btn').innerText = 'Trabajo';
                }
            }
        </script>

    </body>
</html>
